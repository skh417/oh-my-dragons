<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë“œë˜ê³¤ íƒ€ë§ˆê³ ì¹˜</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Press Start 2P', monospace;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #fff;
      image-rendering: pixelated;
    }
    
    .game-container {
      background: #0f0f23;
      border: 4px solid #4a4a6a;
      border-radius: 8px;
      padding: 20px;
      width: 400px;
      box-shadow: 0 0 30px rgba(100, 100, 200, 0.3);
    }
    
    .title {
      text-align: center;
      font-size: 14px;
      color: #ffd700;
      margin-bottom: 20px;
      text-shadow: 2px 2px #aa8800;
    }
    
    .dragon-display {
      background: #1a1a3a;
      border: 3px solid #3a3a5a;
      border-radius: 8px;
      height: 200px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 15px;
      position: relative;
      overflow: hidden;
    }
    
    .dragon-sprite {
      font-size: 80px;
      animation: bounce 1s ease-in-out infinite;
      text-shadow: 0 4px 8px rgba(0,0,0,0.5);
    }
    
    .dragon-sprite.sleeping {
      animation: sleep 2s ease-in-out infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes sleep {
      0%, 100% { transform: translateY(0) rotate(-5deg); }
      50% { transform: translateY(5px) rotate(5deg); }
    }
    
    @keyframes shake {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      75% { transform: rotate(10deg); }
    }
    
    .egg {
      animation: shake 0.5s ease-in-out infinite;
    }
    
    .type-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 8px;
      font-weight: bold;
    }
    
    .stage-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 5px 10px;
      background: #2a2a4a;
      border-radius: 4px;
      font-size: 8px;
    }
    
    .info-panel {
      background: #1a1a3a;
      border: 2px solid #3a3a5a;
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 15px;
    }
    
    .dragon-name {
      font-size: 12px;
      text-align: center;
      margin-bottom: 10px;
      color: #88ccff;
    }
    
    .stats {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .stat {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .stat-label {
      font-size: 8px;
      width: 50px;
    }
    
    .stat-bar {
      flex: 1;
      height: 12px;
      background: #2a2a4a;
      border-radius: 2px;
      overflow: hidden;
    }
    
    .stat-fill {
      height: 100%;
      transition: width 0.3s ease;
    }
    
    .stat-fill.hunger { background: linear-gradient(90deg, #ff6b6b, #ff8e8e); }
    .stat-fill.happiness { background: linear-gradient(90deg, #ffd93d, #ffe066); }
    .stat-fill.energy { background: linear-gradient(90deg, #6bcb77, #8be28b); }
    .stat-fill.growth { background: linear-gradient(90deg, #4d96ff, #6ba8ff); }
    
    .stat-value {
      font-size: 8px;
      width: 30px;
      text-align: right;
    }
    
    .actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-bottom: 15px;
    }
    
    .action-btn {
      font-family: 'Press Start 2P', monospace;
      font-size: 8px;
      padding: 12px 8px;
      border: 3px solid;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }
    
    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    
    .action-btn:active {
      transform: translateY(0);
    }
    
    .action-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    .btn-feed {
      background: #ff6b6b;
      border-color: #cc5555;
      color: white;
    }
    
    .btn-play {
      background: #ffd93d;
      border-color: #ccaa00;
      color: #333;
    }
    
    .btn-sleep {
      background: #6bcb77;
      border-color: #55aa66;
      color: white;
    }
    
    .action-icon {
      font-size: 20px;
    }
    
    .new-egg-btn {
      width: 100%;
      font-family: 'Press Start 2P', monospace;
      font-size: 10px;
      padding: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: 3px solid #5544aa;
      border-radius: 6px;
      color: white;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .new-egg-btn:hover {
      transform: scale(1.02);
      box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
    }
    
    .message {
      text-align: center;
      font-size: 8px;
      padding: 10px;
      background: #2a2a4a;
      border-radius: 4px;
      margin-top: 10px;
      min-height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .hidden { display: none; }
    
    /* íƒ€ì…ë³„ ìƒ‰ìƒ */
    .type-fire { background: #ff6b35; color: white; }
    .type-water { background: #4a90d9; color: white; }
    .type-earth { background: #8b7355; color: white; }
    .type-dark { background: #2d1b4e; color: #bb99ff; }
    .type-light { background: #fff8dc; color: #333; }
    .type-speed { background: #00d4aa; color: white; }
    .type-electric { background: #ffd700; color: #333; }
    .type-wind { background: #87ceeb; color: #333; }
    .type-psychic { background: #ff69b4; color: white; }
    .type-grass { background: #3cb371; color: white; }
    .type-rock { background: #696969; color: white; }
    .type-ice { background: #add8e6; color: #333; }
    
    .particles {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    
    .particle {
      position: absolute;
      font-size: 16px;
      animation: float-up 1s ease-out forwards;
    }
    
    @keyframes float-up {
      0% { opacity: 1; transform: translateY(0) scale(1); }
      100% { opacity: 0; transform: translateY(-50px) scale(0.5); }
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1 class="title">ğŸ‰ ë“œë˜ê³¤ íƒ€ë§ˆê³ ì¹˜ ğŸ‰</h1>
    
    <div class="dragon-display">
      <div class="particles" id="particles"></div>
      <div class="stage-badge" id="stageBadge">ì•Œ</div>
      <div class="type-badge hidden" id="typeBadge">???</div>
      <div class="dragon-sprite egg" id="dragonSprite">ğŸ¥š</div>
    </div>
    
    <div class="info-panel">
      <div class="dragon-name" id="dragonName">??? ì˜ ì•Œ</div>
      <div class="stats">
        <div class="stat">
          <span class="stat-label">ë°°ê³ í””</span>
          <div class="stat-bar">
            <div class="stat-fill hunger" id="hungerBar" style="width: 100%"></div>
          </div>
          <span class="stat-value" id="hungerValue">100</span>
        </div>
        <div class="stat">
          <span class="stat-label">í–‰ë³µ</span>
          <div class="stat-bar">
            <div class="stat-fill happiness" id="happinessBar" style="width: 100%"></div>
          </div>
          <span class="stat-value" id="happinessValue">100</span>
        </div>
        <div class="stat">
          <span class="stat-label">ì—ë„ˆì§€</span>
          <div class="stat-bar">
            <div class="stat-fill energy" id="energyBar" style="width: 100%"></div>
          </div>
          <span class="stat-value" id="energyValue">100</span>
        </div>
        <div class="stat">
          <span class="stat-label">ì„±ì¥</span>
          <div class="stat-bar">
            <div class="stat-fill growth" id="growthBar" style="width: 0%"></div>
          </div>
          <span class="stat-value" id="growthValue">0</span>
        </div>
      </div>
    </div>
    
    <div class="actions">
      <button class="action-btn btn-feed" id="feedBtn" onclick="feed()">
        <span class="action-icon">ğŸ–</span>
        <span>ë¨¹ì´ì£¼ê¸°</span>
      </button>
      <button class="action-btn btn-play" id="playBtn" onclick="play()">
        <span class="action-icon">âš½</span>
        <span>ë†€ì•„ì£¼ê¸°</span>
      </button>
      <button class="action-btn btn-sleep" id="sleepBtn" onclick="sleep()">
        <span class="action-icon">ğŸ˜´</span>
        <span>ì¬ìš°ê¸°</span>
      </button>
    </div>
    
    <button class="new-egg-btn" onclick="newEgg()">ğŸ¥š ìƒˆë¡œìš´ ì•Œ ì–»ê¸°</button>
    
    <div class="message" id="message">ì•Œì„ í´ë¦­í•˜ê±°ë‚˜ ì¼€ì–´í•´ì„œ ë¶€í™”ì‹œí‚¤ì„¸ìš”!</div>
  </div>

  <script>
    // ë“œë˜ê³¤ íƒ€ì… ì •ì˜
    const DRAGON_TYPES = {
      fire: { name: 'ë¶ˆ', emoji: 'ğŸ”¥', color: '#ff6b35', dragonEmoji: ['ğŸ²', 'ğŸ”¥ğŸ‰', 'ğŸŒ‹'] },
      water: { name: 'ë¬¼', emoji: 'ğŸ’§', color: '#4a90d9', dragonEmoji: ['ğŸ³', 'ğŸ’§ğŸ‰', 'ğŸŒŠ'] },
      earth: { name: 'ë•…', emoji: 'ğŸ”ï¸', color: '#8b7355', dragonEmoji: ['ğŸ¦', 'ğŸ”ï¸ğŸ‰', 'â›°ï¸'] },
      dark: { name: 'ì–´ë‘ ', emoji: 'ğŸŒ‘', color: '#2d1b4e', dragonEmoji: ['ğŸ¦‡', 'ğŸŒ‘ğŸ‰', 'ğŸ‘»'] },
      light: { name: 'ë¹›', emoji: 'âœ¨', color: '#fff8dc', dragonEmoji: ['ğŸ¦‹', 'âœ¨ğŸ‰', 'â­'] },
      speed: { name: 'ìŠ¤í”¼ë“œ', emoji: 'ğŸ’¨', color: '#00d4aa', dragonEmoji: ['ğŸ¦…', 'ğŸ’¨ğŸ‰', 'âš¡'] },
      electric: { name: 'ì „ê¸°', emoji: 'âš¡', color: '#ffd700', dragonEmoji: ['ğŸ¯', 'âš¡ğŸ‰', 'ğŸŒ©ï¸'] },
      wind: { name: 'ë°”ëŒ', emoji: 'ğŸŒªï¸', color: '#87ceeb', dragonEmoji: ['ğŸ•Šï¸', 'ğŸŒªï¸ğŸ‰', 'ğŸŒ¬ï¸'] },
      psychic: { name: 'ì´ˆëŠ¥ë ¥', emoji: 'ğŸ”®', color: '#ff69b4', dragonEmoji: ['ğŸ¦„', 'ğŸ”®ğŸ‰', 'ğŸ’œ'] },
      grass: { name: 'í’€', emoji: 'ğŸŒ¿', color: '#3cb371', dragonEmoji: ['ğŸ¦•', 'ğŸŒ¿ğŸ‰', 'ğŸŒ²'] },
      rock: { name: 'ë°”ìœ„', emoji: 'ğŸª¨', color: '#696969', dragonEmoji: ['ğŸ¢', 'ğŸª¨ğŸ‰', 'ğŸ’'] },
      ice: { name: 'ì–¼ìŒ', emoji: 'â„ï¸', color: '#add8e6', dragonEmoji: ['ğŸ§', 'â„ï¸ğŸ‰', 'ğŸ§Š'] }
    };

    const STAGES = ['ì•Œ', 'ì•„ê¸°', 'ì²­ì†Œë…„', 'ì„±ì²´'];
    const STAGE_THRESHOLDS = [0, 25, 50, 100];

    // ê²Œì„ ìƒíƒœ
    let dragon = {
      type: null,
      stage: 0,
      hunger: 100,
      happiness: 100,
      energy: 100,
      growth: 0,
      isSleeping: false,
      name: '???'
    };

    let gameInterval = null;
    let isHatched = false;

    // DOM ìš”ì†Œ
    const elements = {
      sprite: document.getElementById('dragonSprite'),
      stageBadge: document.getElementById('stageBadge'),
      typeBadge: document.getElementById('typeBadge'),
      dragonName: document.getElementById('dragonName'),
      hungerBar: document.getElementById('hungerBar'),
      happinessBar: document.getElementById('happinessBar'),
      energyBar: document.getElementById('energyBar'),
      growthBar: document.getElementById('growthBar'),
      hungerValue: document.getElementById('hungerValue'),
      happinessValue: document.getElementById('happinessValue'),
      energyValue: document.getElementById('energyValue'),
      growthValue: document.getElementById('growthValue'),
      message: document.getElementById('message'),
      particles: document.getElementById('particles'),
      feedBtn: document.getElementById('feedBtn'),
      playBtn: document.getElementById('playBtn'),
      sleepBtn: document.getElementById('sleepBtn')
    };

    // ëœë¤ íƒ€ì… ì„ íƒ
    function getRandomType() {
      const types = Object.keys(DRAGON_TYPES);
      return types[Math.floor(Math.random() * types.length)];
    }

    // ë“œë˜ê³¤ ì´ë¦„ ìƒì„±
    function generateName(type) {
      const prefixes = ['ì‘ì€', 'ë¹›ë‚˜ëŠ”', 'ìš©ê°í•œ', 'ì‹ ë¹„ë¡œìš´', 'ê·€ì—¬ìš´', 'ê°•ë ¥í•œ', 'ë¹ ë¥¸', 'í˜„ëª…í•œ'];
      const suffixes = ['ì´', 'ìš©', 'ë“œë˜ê³¤', 'ì•„ì´', 'ë² ì´ë¹„'];
      const typeData = DRAGON_TYPES[type];
      const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
      const suffix = suffixes[Math.floor(Math.random() * suffixes.length)];
      return `${prefix} ${typeData.name}${suffix}`;
    }

    // UI ì—…ë°ì´íŠ¸
    function updateUI() {
      // ìŠ¤íƒ¯ ë°”
      elements.hungerBar.style.width = `${dragon.hunger}%`;
      elements.happinessBar.style.width = `${dragon.happiness}%`;
      elements.energyBar.style.width = `${dragon.energy}%`;
      elements.growthBar.style.width = `${dragon.growth}%`;
      
      elements.hungerValue.textContent = Math.round(dragon.hunger);
      elements.happinessValue.textContent = Math.round(dragon.happiness);
      elements.energyValue.textContent = Math.round(dragon.energy);
      elements.growthValue.textContent = Math.round(dragon.growth);

      // ìŠ¤í…Œì´ì§€ ë°°ì§€
      elements.stageBadge.textContent = STAGES[dragon.stage];

      // ë“œë˜ê³¤ ìŠ¤í”„ë¼ì´íŠ¸
      if (!isHatched) {
        elements.sprite.textContent = 'ğŸ¥š';
        elements.sprite.className = 'dragon-sprite egg';
      } else {
        const typeData = DRAGON_TYPES[dragon.type];
        elements.sprite.textContent = typeData.dragonEmoji[Math.min(dragon.stage - 1, 2)];
        elements.sprite.className = dragon.isSleeping ? 'dragon-sprite sleeping' : 'dragon-sprite';
        
        // íƒ€ì… ë°°ì§€ í‘œì‹œ
        elements.typeBadge.textContent = `${typeData.emoji} ${typeData.name}`;
        elements.typeBadge.className = `type-badge type-${dragon.type}`;
      }

      // ë²„íŠ¼ ìƒíƒœ
      elements.feedBtn.disabled = dragon.isSleeping;
      elements.playBtn.disabled = dragon.isSleeping || dragon.energy < 10;
      elements.sleepBtn.disabled = dragon.isSleeping;
    }

    // íŒŒí‹°í´ íš¨ê³¼
    function spawnParticle(emoji) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      particle.textContent = emoji;
      particle.style.left = `${30 + Math.random() * 40}%`;
      particle.style.top = `${40 + Math.random() * 20}%`;
      elements.particles.appendChild(particle);
      setTimeout(() => particle.remove(), 1000);
    }

    // ë©”ì‹œì§€ í‘œì‹œ
    function showMessage(msg) {
      elements.message.textContent = msg;
    }

    // ë¶€í™”
    function hatch() {
      if (isHatched) return;
      
      dragon.type = getRandomType();
      dragon.name = generateName(dragon.type);
      dragon.stage = 1;
      isHatched = true;

      const typeData = DRAGON_TYPES[dragon.type];
      elements.dragonName.textContent = dragon.name;
      
      for (let i = 0; i < 10; i++) {
        setTimeout(() => spawnParticle(typeData.emoji), i * 100);
      }
      
      showMessage(`ğŸ‰ ${typeData.name} íƒ€ì…ì˜ ${dragon.name}ì´(ê°€) íƒœì–´ë‚¬ìŠµë‹ˆë‹¤!`);
      updateUI();
      startGameLoop();
    }

    // ë¨¹ì´ì£¼ê¸°
    function feed() {
      if (dragon.isSleeping) return;
      
      dragon.hunger = Math.min(100, dragon.hunger + 20);
      dragon.growth += 3;
      
      spawnParticle('ğŸ–');
      spawnParticle('ğŸ’•');
      
      if (!isHatched) {
        hatch();
      } else {
        showMessage(`${dragon.name}ì´(ê°€) ë§›ìˆê²Œ ë¨¹ì—ˆìŠµë‹ˆë‹¤! ğŸ–`);
        checkEvolution();
      }
      updateUI();
    }

    // ë†€ì•„ì£¼ê¸°
    function play() {
      if (dragon.isSleeping || dragon.energy < 10) return;
      
      dragon.happiness = Math.min(100, dragon.happiness + 25);
      dragon.energy = Math.max(0, dragon.energy - 15);
      dragon.hunger = Math.max(0, dragon.hunger - 5);
      dragon.growth += 5;
      
      spawnParticle('âš½');
      spawnParticle('ğŸ˜„');
      spawnParticle('ğŸ’«');
      
      if (!isHatched) {
        hatch();
      } else {
        showMessage(`${dragon.name}ì´(ê°€) ì‹ ë‚˜ê²Œ ë†€ì•˜ìŠµë‹ˆë‹¤! ğŸ‰`);
        checkEvolution();
      }
      updateUI();
    }

    // ì¬ìš°ê¸°
    function sleep() {
      if (dragon.isSleeping) return;
      
      dragon.isSleeping = true;
      showMessage(`${dragon.name}ì´(ê°€) ì ë“¤ì—ˆìŠµë‹ˆë‹¤... ğŸ’¤`);
      updateUI();
      
      spawnParticle('ğŸ˜´');
      spawnParticle('ğŸ’¤');
      
      // ìˆ˜ë©´ íš¨ê³¼
      const sleepInterval = setInterval(() => {
        if (dragon.energy >= 100) {
          clearInterval(sleepInterval);
          dragon.isSleeping = false;
          dragon.growth += 2;
          showMessage(`${dragon.name}ì´(ê°€) ìƒì¾Œí•˜ê²Œ ì¼ì–´ë‚¬ìŠµë‹ˆë‹¤! â˜€ï¸`);
          checkEvolution();
          updateUI();
          return;
        }
        dragon.energy = Math.min(100, dragon.energy + 10);
        spawnParticle('ğŸ’¤');
        updateUI();
      }, 500);
      
      if (!isHatched) {
        hatch();
      }
    }

    // ì§„í™” ì²´í¬
    function checkEvolution() {
      const newStage = STAGE_THRESHOLDS.reduce((stage, threshold, i) => 
        dragon.growth >= threshold ? i : stage, 0);
      
      if (newStage > dragon.stage && dragon.stage < 3) {
        dragon.stage = newStage;
        const typeData = DRAGON_TYPES[dragon.type];
        
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            spawnParticle('âœ¨');
            spawnParticle(typeData.emoji);
          }, i * 100);
        }
        
        if (newStage === 3) {
          showMessage(`ğŸŠ ì¶•í•˜í•©ë‹ˆë‹¤! ${dragon.name}ì´(ê°€) ì™„ì „í•œ ì„±ì²´ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰`);
        } else {
          showMessage(`ğŸŒŸ ${dragon.name}ì´(ê°€) ${STAGES[newStage]}(ìœ¼)ë¡œ ì„±ì¥í–ˆìŠµë‹ˆë‹¤!`);
        }
      }
    }

    // ìƒˆ ì•Œ ì–»ê¸°
    function newEgg() {
      if (gameInterval) clearInterval(gameInterval);
      
      dragon = {
        type: null,
        stage: 0,
        hunger: 100,
        happiness: 100,
        energy: 100,
        growth: 0,
        isSleeping: false,
        name: '???'
      };
      
      isHatched = false;
      elements.dragonName.textContent = '??? ì˜ ì•Œ';
      elements.typeBadge.className = 'type-badge hidden';
      
      showMessage('ğŸ¥š ìƒˆë¡œìš´ ì•Œì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤! ì–´ë–¤ ë“œë˜ê³¤ì´ ë‚˜ì˜¬ê¹Œìš”?');
      updateUI();
    }

    // ê²Œì„ ë£¨í”„
    function startGameLoop() {
      if (gameInterval) clearInterval(gameInterval);
      
      gameInterval = setInterval(() => {
        if (!isHatched || dragon.isSleeping) return;
        
        // ì‹œê°„ì— ë”°ë¥¸ ìŠ¤íƒ¯ ê°ì†Œ
        dragon.hunger = Math.max(0, dragon.hunger - 1);
        dragon.happiness = Math.max(0, dragon.happiness - 0.5);
        dragon.energy = Math.max(0, dragon.energy - 0.3);
        
        // ìŠ¤íƒ¯ì´ ë‚®ìœ¼ë©´ ê²½ê³ 
        if (dragon.hunger < 20) {
          showMessage(`${dragon.name}ì´(ê°€) ë°°ê³ íŒŒí•©ë‹ˆë‹¤! ğŸ–`);
        } else if (dragon.happiness < 20) {
          showMessage(`${dragon.name}ì´(ê°€) ì‹¬ì‹¬í•´í•©ë‹ˆë‹¤! ğŸ¾`);
        } else if (dragon.energy < 20) {
          showMessage(`${dragon.name}ì´(ê°€) í”¼ê³¤í•´í•©ë‹ˆë‹¤! ğŸ˜´`);
        }
        
        updateUI();
      }, 1000);
    }

    // ì•Œ í´ë¦­ ì´ë²¤íŠ¸
    elements.sprite.addEventListener('click', () => {
      if (!isHatched) {
        dragon.growth += 5;
        spawnParticle('ğŸ’•');
        if (dragon.growth >= 15) {
          hatch();
        } else {
          showMessage(`ì•Œì´ í”ë“¤ë¦¬ê³  ìˆì–´ìš”! (${Math.round(dragon.growth)}/15)`);
        }
        updateUI();
      }
    });

    // ì´ˆê¸°í™”
    updateUI();
  </script>
</body>
</html>
